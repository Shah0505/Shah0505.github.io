angular.module("GuitarApp",["controllermodule","ngRoute","ui.bootstrap","ngAnimate"]).config(["$routeProvider",function(e){e.when("/home",{templateUrl:"../templates/home/home.html",controller:"homecontroller"}).when("/about",{templateUrl:"../templates/about/about.html",controller:"aboutcontroller"}).when("/gridshop",{templateUrl:"../templates/gridlayout/gridlayout.html",controller:"gridshopcontroller"}).when("/listshop",{templateUrl:"../templates/listlayout/listylayout.html",controller:"listshopcontroller"}).when("/shopnow",{templateUrl:"../templates/shopnow/shopnow.html",controller:"shopnowcontroller"}).when("/buy",{templateUrl:"../templates/shopnow/shopnowform.html",controller:"shopnowcontroller"}).when("/thanks",{templateUrl:"../templates/shopnow/thankyou.html",controller:"thankscontroller"}).otherwise({redirectTo:"/home"})}]),angular.module("controllermodule",["headermodule","footermodule","homemodule","aboutmodule","shopmodule"]),angular.module("headermodule",[]),angular.module("headermodule").factory("headerfactory",["$http","$q",function(e,o){var t={};return t.headernavdata=function(){var t=o.defer();return e.get("../../data/header.json").success(function(e){t.resolve(e)}).error(function(e){t.reject(e)}),t.promise},t}]),angular.module("headermodule").controller("headerctrl",["$scope","headerfactory",function(e,o){o.headernavdata().then(function(o){e.navdata=o.headerdata})}]),angular.module("headermodule").directive("myHeader",function(){return{restrict:"A",replace:!0,scope:{navdirectivedata:"="},templateUrl:"../../templates/header/header.html"}}),angular.module("footermodule",[]),angular.module("footermodule").directive("myFooter",function(){return{restrict:"A",replace:!0,require:"^ngInclude",templateUrl:"Script/footer/footer.html"}}),angular.module("homemodule",[]),angular.module("homemodule").controller("homecontroller",["$scope",function(e){e.name="home"}]),angular.module("aboutmodule",[]),angular.module("aboutmodule").controller("aboutcontroller",["$scope",function(e){e.name="About Us"}]),angular.module("shopmodule",[]),angular.module("shopmodule").factory("shopfactory",["$http","$q",function(e,o){var t={};return t.shopdata=function(){var t=o.defer();return e.get("../../data/guitardata.json").success(function(e){t.resolve(e)}).error(function(e){t.reject(e)}),t.promise},t}]),angular.module("shopmodule").controller("gridshopcontroller",["$scope","shopfactory",function(e,o){o.shopdata().then(function(o){e.shopguitardata=o.allProducts}),e.storage=function(e){localStorage.guitarlocaldata=JSON.stringify(e)}}]),angular.module("shopmodule").controller("listshopcontroller",["$scope","shopfactory",function(e,o){o.shopdata().then(function(o){e.shopguitardata=o.allProducts}),e.storage=function(e){localStorage.guitarlocaldata=JSON.stringify(e)}}]),angular.module("shopmodule").controller("shopnowcontroller",["$scope","$window","$location",function(e,o,t){e.guitarshopnow=JSON.parse(localStorage.guitarlocaldata),e.data=e.guitarshopnow.imagepath;var a=function(){var o=window.innerWidth;e.imageCollection=o>900?e.data.slice(0,3):o<=900&&o>480?e.data.slice(0,2):e.data.slice(0,1)},l=function(){e.firstElement=e.data[0]===e.imageCollection[0],e.lastElement=e.data[e.data.length-1]===e.imageCollection[e.imageCollection.length-1]};e.nextButton=!1,e.prevButton=!1,e.prev=function(){var o=e.data.indexOf(e.imageCollection[0]);0!==o&&(e.imageCollection.unshift(e.data[o-1]),e.imageCollection.pop()),l(),e.prevButton=!0,e.nextButton=!1},e.next=function(){var o=e.data.indexOf(e.imageCollection[e.imageCollection.length-1]);o+1!=e.data.length&&(e.imageCollection.push(e.data[o+1]),e.imageCollection.shift()),l(),e.nextButton=!0,e.prevButton=!1},angular.element(window).on("resize",function(){a(),l(),e.$digest()}),a(),l(),e.firstimg=e.guitarshopnow.imagepath[0],e.changeimg=function(o){e.firstimg=o};var r=new Date,n=r.getMonth()+1,u=r.getFullYear()%100;e.mm<10&&(e.mm="0"+e.mm),e.carddate=!1,e.carddatev=function(o,t){e.carddate=t<u||o<n},e.go=function(e){t.path(e)};var i=(r=new Date).getDate(),n=r.getMonth()+1,c=r.getFullYear();i<10&&(i="0"+i),n<10&&(n="0"+n),r=n+"/"+i+"/"+c,e.userDetails={firstname:"",lastname:"",email:"",contactno:"",cardno:"",exmm:"",exyy:"",address:"",paymentdate:"",productname:"",price:""},e.submit=function(){e.submitted=!0,e.myform.$valid&&(e.go("/thanks"),e.submitted=!1,e.userDetails.paymentdate=r,e.userDetails.productname=e.guitarshopnow.name,e.userDetails.price=e.guitarshopnow.price,localStorage.paymentData=JSON.stringify(e.userDetails))}}]),angular.module("shopmodule").controller("thankscontroller",["$scope",function(e){e.paymentData=JSON.parse(localStorage.paymentData),console.log(e.paymentData)}]);